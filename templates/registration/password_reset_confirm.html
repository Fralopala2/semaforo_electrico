{% extends 'base.html' %}

{% block title %}Confirmar Restablecimiento{% endblock %}

{% block content %}
    <div class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md">
        <h2 class="text-3xl font-bold text-center mb-6" style="color: blue;">Establecer Nueva Contraseña</h2>
        {% if validlink %}
            <form method="post" class="space-y-4">
                {% csrf_token %}
                <div>
                    <label for="{{ form.new_password1.id_for_label }}" class="block text-sm font-medium text-gray-700">Nueva Contraseña:</label>
                    {{ form.new_password1 }}
                    {% if form.new_password1.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ form.new_password1.errors.as_text }}</p>
                    {% endif %}
                    {% if form.new_password1.help_text %}
                        <p class="text-gray-500 text-xs mt-1">{{ form.new_password1.help_text }}</p>
                    {% endif %}
                </div>
                <div>
                    <label for="{{ form.new_password2.id_for_label }}" class="block text-sm font-medium text-gray-700">Confirmar Nueva Contraseña:</label>
                    {{ form.new_password2 }}
                    {% if form.new_password2.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ form.new_password2.errors.as_text }}</p>
                    {% endif %}
                </div>
                <button type="submit" class="btn btn-primary w-full" style="color: blueviolet;">Cambiar Contraseña</button>
            </form>
        {% else %}
            <p class="text-center text-red-600">El enlace para restablecer la contraseña es inválido o ha caducado. Por favor, solicita uno nuevo.</p>
        {% endif %}
    </div>
{% endblock %}
